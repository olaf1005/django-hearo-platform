<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1376px" preserveAspectRatio="none" style="width:1201px;height:1376px;background:#00000000;" version="1.1" viewBox="0 0 1201 1376" width="1201px" zoomAndPan="magnify"><defs/><g><rect fill="#CCCCCC" height="1357.4629" style="stroke:#383838;stroke-width:1.0;" width="205.5" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="68" x="69.75" y="18.5684">Web Apps</text><rect fill="#C7C7C7" height="1357.4629" style="stroke:#383838;stroke-width:1.0;" width="411.5" x="679" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="831.25" y="18.5684">Smart Contracts</text><rect fill="#ADADAD" height="1357.4629" style="stroke:#383838;stroke-width:1.0;" width="97" x="1092.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49" x="1116.5" y="18.5684">Hedera</text><rect fill="#FFFFFF" height="88.9316" style="stroke:#000000;stroke-width:2.0;" width="522.5" x="673" y="251.041"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="104.7988" y2="1369.4629"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="181.5" x2="181.5" y1="104.7988" y2="1369.4629"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="712" x2="712" y1="104.7988" y2="1369.4629"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1045.5" x2="1045.5" y1="104.7988" y2="1369.4629"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1140.5" x2="1140.5" y1="104.7988" y2="1369.4629"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="5" y="101.8457">App</text><ellipse cx="22" cy="35.3105" fill="#F8F8F8" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M22,43.3105 L22,70.3105 M9,51.3105 L35,51.3105 M22,70.3105 L9,85.3105 M22,70.3105 L35,85.3105 " fill="none" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" height="30.4883" style="stroke:#383838;stroke-width:1.5;" width="41" x="161.5" y="73.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="168.5" y="93.8457">HTS</text><rect fill="#F8F8F8" height="30.4883" style="stroke:#383838;stroke-width:1.5;" width="58" x="683" y="73.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="690" y="93.8457">Parent</text><rect fill="#F8F8F8" height="30.4883" style="stroke:#383838;stroke-width:1.5;" width="81" x="1005.5" y="73.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1012.5" y="93.8457">Children..</text><rect fill="#F8F8F8" height="30.4883" style="stroke:#383838;stroke-width:1.5;" width="89" x="1096.5" y="73.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1103.5" y="93.8457">Hashgraph</text><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="136.1094" y2="132.1094"/><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="136.1094" y2="140.1094"/><line style="stroke:#383838;stroke-width:1.0;" x1="22" x2="181" y1="136.1094" y2="136.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="29" y="131.3672">hbarBalanceContracts</text><path d="M187,149.1094 L187,174.1094 L232,174.1094 L232,159.1094 L222,149.1094 L187,149.1094 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M222,149.1094 L222,159.1094 L232,159.1094 L222,149.1094 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="193" y="166.6777">GET</text><path d="M187,184.4199 L187,209.4199 L524,209.4199 L524,194.4199 L514,184.4199 L187,184.4199 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M514,184.4199 L514,194.4199 L524,194.4199 L514,184.4199 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="193" y="201.9883">Get balance in tinyBars of each contract registered</text><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="236.041" y2="232.041"/><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="236.041" y2="240.041"/><line style="stroke:#383838;stroke-width:1.0;" x1="182" x2="711" y1="236.041" y2="236.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="189" y="231.2988">getBalancesForContracts()</text><path d="M673,251.041 L747,251.041 L747,258.041 L737,268.041 L673,268.041 L673,251.041 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="88.9316" style="stroke:#000000;stroke-width:2.0;" width="522.5" x="673" y="251.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="688" y="264.6094">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="762" y="263.6758">["For each contract"]</text><line style="stroke:#383838;stroke-width:1.0;" x1="1139" x2="1129" y1="289.6621" y2="285.6621"/><line style="stroke:#383838;stroke-width:1.0;" x1="1139" x2="1129" y1="289.6621" y2="293.6621"/><line style="stroke:#383838;stroke-width:1.0;" x1="712" x2="1140" y1="289.6621" y2="289.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="719" y="284.9199">getAccountBalance(contractId)</text><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="712" x2="754" y1="318.9727" y2="318.9727"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="754" x2="754" y1="318.9727" y2="331.9727"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="713" x2="754" y1="331.9727" y2="331.9727"/><polygon fill="#383838" points="723,327.9727,713,331.9727,723,335.9727" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="719" y="314.2305">return balances</text><polygon fill="#383838" points="193,364.2832,183,368.2832,193,372.2832" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187" x2="711" y1="368.2832" y2="368.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="199" y="363.541">return array of contract ids and balances</text><polygon fill="#383838" points="33,393.5938,23,397.5938,33,401.5938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27" x2="181" y1="397.5938" y2="397.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="39" y="392.8516">return "</text><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="426.9043" y2="422.9043"/><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="426.9043" y2="430.9043"/><line style="stroke:#383838;stroke-width:1.0;" x1="22" x2="181" y1="426.9043" y2="426.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="29" y="422.1621">hbarTransfer</text><path d="M187,439.9043 L187,464.9043 L240,464.9043 L240,449.9043 L230,439.9043 L187,439.9043 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M230,439.9043 L230,449.9043 L240,449.9043 L230,439.9043 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="193" y="457.4727">POST</text><path d="M187,475.2148 L187,500.2148 L450,500.2148 L450,485.2148 L440,475.2148 L187,475.2148 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M440,475.2148 L440,485.2148 L450,485.2148 L440,475.2148 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="193" y="492.7832">Transfer tinyBars from default account</text><path d="M187,510.5254 L187,581.5254 L579,581.5254 L579,520.5254 L569,510.5254 L187,510.5254 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M569,510.5254 L569,520.5254 L579,520.5254 L569,510.5254 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><ellipse cx="198.5" cy="523.3359" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="204" y="528.0938">amount (+long) (Required) Amount in tiny bars</text><ellipse cx="198.5" cy="538.6465" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360" x="204" y="543.4043">myAccNum (String) (Required) Transfer from this account</text><ellipse cx="198.5" cy="553.957" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="204" y="558.7148">myPvtKey (String) (Required) Private key of this account</text><ellipse cx="198.5" cy="569.2676" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="204" y="574.0254">toAccountId (String) (Required) Transfer to this account</text><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="608.0781" y2="604.0781"/><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="608.0781" y2="612.0781"/><line style="stroke:#383838;stroke-width:1.0;" x1="182" x2="711" y1="608.0781" y2="608.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506" x="189" y="603.3359">transferCrypto(String myAccNum, String myPvtKey, String toAccId, long amount)</text><polygon fill="#383838" points="1129,633.3887,1139,637.3887,1129,641.3887" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="712" x2="1135" y1="637.3887" y2="637.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="719" y="632.6465">transferCryptoTo(toAccId, amount)</text><polygon fill="#383838" points="723,662.6992,713,666.6992,723,670.6992" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="717" x2="1140" y1="666.6992" y2="666.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="729" y="661.957">return success</text><polygon fill="#383838" points="33,692.0098,23,696.0098,33,700.0098" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27" x2="181" y1="696.0098" y2="696.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="39" y="691.2676">return "</text><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="725.3203" y2="721.3203"/><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="725.3203" y2="729.3203"/><line style="stroke:#383838;stroke-width:1.0;" x1="22" x2="181" y1="725.3203" y2="725.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="29" y="720.5781">allBalances</text><path d="M187,738.3203 L187,763.3203 L232,763.3203 L232,748.3203 L222,738.3203 L187,738.3203 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M222,738.3203 L222,748.3203 L232,748.3203 L222,738.3203 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="193" y="755.8887">GET</text><path d="M187,773.6309 L187,798.6309 L450,798.6309 L450,783.6309 L440,773.6309 L187,773.6309 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M440,773.6309 L440,783.6309 L450,783.6309 L440,773.6309 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="193" y="791.1992">+ Returns all balances for all accounts</text><path d="M187,808.9414 L187,848.9414 L648,848.9414 L648,818.9414 L638,808.9414 L187,808.9414 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M638,808.9414 L638,818.9414 L648,818.9414 L638,808.9414 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><ellipse cx="198.5" cy="821.752" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="429" x="204" y="826.5098">numOfUsers (long) (Required) : Number of users to estimate fees for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="439" x="193" y="841.8203">+ contractId (String) (Required) : Contract Id for which to get balances</text><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="875.873" y2="871.873"/><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="875.873" y2="879.873"/><line style="stroke:#383838;stroke-width:1.0;" x1="182" x2="711" y1="875.873" y2="875.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="189" y="871.1309">allBalances(numOfUsers, contractId)</text><line style="stroke:#383838;stroke-width:1.0;" x1="1044" x2="1034" y1="905.1836" y2="901.1836"/><line style="stroke:#383838;stroke-width:1.0;" x1="1044" x2="1034" y1="905.1836" y2="909.1836"/><line style="stroke:#383838;stroke-width:1.0;" x1="712" x2="1045" y1="905.1836" y2="905.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="719" y="900.4414">allBalances(numOfUsers)</text><polygon fill="#383838" points="723,930.4941,713,934.4941,723,938.4941" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="717" x2="1045" y1="934.4941" y2="934.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="729" y="929.752">return array mapping of balances</text><polygon fill="#383838" points="193,975.1152,183,979.1152,193,983.1152" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187" x2="711" y1="979.1152" y2="979.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="199" y="959.0625">return array mapping of balances</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="203" y="974.373">["SolidityAddress1-Balance1", …]</text><polygon fill="#383838" points="33,1004.4258,23,1008.4258,33,1012.4258" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27" x2="181" y1="1008.4258" y2="1008.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="39" y="1003.6836">return "</text><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="1037.7363" y2="1033.7363"/><line style="stroke:#383838;stroke-width:1.0;" x1="180" x2="170" y1="1037.7363" y2="1041.7363"/><line style="stroke:#383838;stroke-width:1.0;" x1="22" x2="181" y1="1037.7363" y2="1037.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="29" y="1032.9941">allowance</text><path d="M187,1050.7363 L187,1075.7363 L240,1075.7363 L240,1060.7363 L230,1050.7363 L187,1050.7363 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M230,1050.7363 L230,1060.7363 L240,1060.7363 L230,1050.7363 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="193" y="1068.3047">POST</text><path d="M187,1086.0469 L187,1111.0469 L450,1111.0469 L450,1096.0469 L440,1086.0469 L187,1086.0469 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M440,1086.0469 L440,1096.0469 L450,1096.0469 L440,1086.0469 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="193" y="1103.6152">Transfer tinyBars from default account</text><path d="M187,1121.3574 L187,1207.3574 L625,1207.3574 L625,1131.3574 L615,1121.3574 L187,1121.3574 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><path d="M615,1121.3574 L615,1131.3574 L625,1131.3574 L615,1121.3574 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><ellipse cx="198.5" cy="1134.168" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="204" y="1138.9258">json (Dict) (Required)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401" x="209" y="1154.2363">* myaccNum (String) (? Required/Optional) Example "0.0.21166"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="209" y="1169.5469">* mypvtKey (String) (? Required/Optional) "302e......"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="209" y="1184.8574">* spenderSolidityAddress (String) (? Required/Optional)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370" x="209" y="1200.168">* tokenOwnerSolidityAddress (String) (? Required/Optional)</text><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="1234.2207" y2="1230.2207"/><line style="stroke:#383838;stroke-width:1.0;" x1="710" x2="700" y1="1234.2207" y2="1238.2207"/><line style="stroke:#383838;stroke-width:1.0;" x1="182" x2="711" y1="1234.2207" y2="1234.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="189" y="1229.4785">allowance</text><line style="stroke:#383838;stroke-width:1.0;" x1="1044" x2="1034" y1="1263.5313" y2="1259.5313"/><line style="stroke:#383838;stroke-width:1.0;" x1="1044" x2="1034" y1="1263.5313" y2="1267.5313"/><line style="stroke:#383838;stroke-width:1.0;" x1="712" x2="1045" y1="1263.5313" y2="1263.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="719" y="1258.7891">allowance(address tokenOwner, address spender)</text><polygon fill="#383838" points="723,1288.8418,713,1292.8418,723,1296.8418" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="717" x2="1045" y1="1292.8418" y2="1292.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="729" y="1288.0996">returns string allowance in Jam Decimals</text><polygon fill="#383838" points="193,1318.1523,183,1322.1523,193,1326.1523" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187" x2="711" y1="1322.1523" y2="1322.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="199" y="1317.4102">return "</text><polygon fill="#383838" points="33,1347.4629,23,1351.4629,33,1355.4629" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27" x2="181" y1="1351.4629" y2="1351.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="39" y="1346.7207">return "</text><!--MD5=[0c6403523478a4565be840b6e8f41e0f]
@startuml

skinparam monochrome true
skinparam backgroundColor transparent
skinparam classBackgroundColor transparent
skinparam style strictuml

' title Hedera Spring API

Actor "App" as app
participant "HTS" as hts
participant "Parent" as parent
participant "Children.." as child
participant "Hashgraph" as hashgraph

box "Web Apps" #LightBlue
	participant app
	participant hts
end box

box "Smart Contracts" #LightGreen
	participant parent
	participant child
end box

box "Hedera" #Orange
	participant hashgraph
end box

app->>hts : hbarBalanceContracts
' Note right of hts #Pink
Note right of hts
    GET
end Note
' Note right of hts #Pink
Note right of hts
    Get balance in tinyBars of each contract registered
end Note

hts->>parent : getBalancesForContracts()
loop "For each contract"
    parent->>hashgraph : getAccountBalance(contractId)
    parent- ->parent : return balances
end
parent- ->hts : return array of contract ids and balances
hts- ->app : return "

app->>hts : hbarTransfer
Note right of hts
    POST
end Note
Note right of hts
    Transfer tinyBars from default account
end Note
' Note right of hts #Pink
'     Swagger documentation needs to be updated
' end Note
' Note right of hts #Pink
'     * amount (+long) (Required) Amount in tiny bars
'     * myAccNum (String) (Required) Transfer from this account
'     * myPvtKey (String) (Required) Private key of this account
'     * toAccountId (String) (Required) Transfer to this account
' end Note
Note right of hts
    * amount (+long) (Required) Amount in tiny bars
    * myAccNum (String) (Required) Transfer from this account
    * myPvtKey (String) (Required) Private key of this account
    * toAccountId (String) (Required) Transfer to this account
end Note

hts->>parent : transferCrypto(String myAccNum, String myPvtKey, String toAccId, long amount)
parent- ->hashgraph : transferCryptoTo(toAccId, amount)
hashgraph- ->parent : return success
hts- ->app : return "

app->>hts : allBalances
Note right of hts
    GET
end Note
' Note right of hts #Pink
'    Implementation and Swagger docs need to be updated
'    (Also, do we actually want this in the new implementation?)
' end Note
Note right of hts
   + Returns all balances for all accounts
end Note
' Note right of hts #Pink
'    Swagger docs need to be updated (numOfUsers is long)
' end Note
Note right of hts
   * numOfUsers (long) (Required) : Number of users to estimate fees for
   + contractId (String) (Required) : Contract Id for which to get balances
end Note

hts->>parent : allBalances(numOfUsers, contractId)
parent->>child : allBalances(numOfUsers)
child- ->parent: return array mapping of balances
parent- ->hts : return array mapping of balances \n ["SolidityAddress1-Balance1", …]
hts- ->app : return "

app->>hts : allowance
Note right of hts
    POST
end Note
Note right of hts
    Transfer tinyBars from default account
end Note
' Note right of hts #Pink
'     * json (Dict) (Required)
'         * myaccNum (String) (? Required/Optional) Example "0.0.21166"
'         * mypvtKey (String) (? Required/Optional) "302e......"
'         * spenderSolidityAddress (String) (? Required/Optional)
'         * tokenOwnerSolidityAddress (String) (? Required/Optional)
' end Note
Note right of hts
    * json (Dict) (Required)
        * myaccNum (String) (? Required/Optional) Example "0.0.21166"
        * mypvtKey (String) (? Required/Optional) "302e......"
        * spenderSolidityAddress (String) (? Required/Optional)
        * tokenOwnerSolidityAddress (String) (? Required/Optional)
end Note

hts->>parent : allowance
parent->>child : allowance(address tokenOwner, address spender)
child- ->parent : returns string allowance in Jam Decimals
parent- ->hts : return "
hts- ->app : return "


@enduml

@startuml

skinparam monochrome true
skinparam backgroundColor transparent
skinparam classBackgroundColor transparent
skinparam style strictuml


Actor "App" as app
participant "HTS" as hts
participant "Parent" as parent
participant "Children.." as child
participant "Hashgraph" as hashgraph

box "Web Apps" #LightBlue
	participant app
	participant hts
end box

box "Smart Contracts" #LightGreen
	participant parent
	participant child
end box

box "Hedera" #Orange
	participant hashgraph
end box

app->>hts : hbarBalanceContracts
Note right of hts
    GET
end Note
Note right of hts
    Get balance in tinyBars of each contract registered
end Note

hts->>parent : getBalancesForContracts()
loop "For each contract"
    parent->>hashgraph : getAccountBalance(contractId)
    parent- ->parent : return balances
end
parent- ->hts : return array of contract ids and balances
hts- ->app : return "

app->>hts : hbarTransfer
Note right of hts
    POST
end Note
Note right of hts
    Transfer tinyBars from default account
end Note
Note right of hts
    * amount (+long) (Required) Amount in tiny bars
    * myAccNum (String) (Required) Transfer from this account
    * myPvtKey (String) (Required) Private key of this account
    * toAccountId (String) (Required) Transfer to this account
end Note

hts->>parent : transferCrypto(String myAccNum, String myPvtKey, String toAccId, long amount)
parent- ->hashgraph : transferCryptoTo(toAccId, amount)
hashgraph- ->parent : return success
hts- ->app : return "

app->>hts : allBalances
Note right of hts
    GET
end Note
Note right of hts
   + Returns all balances for all accounts
end Note
Note right of hts
   * numOfUsers (long) (Required) : Number of users to estimate fees for
   + contractId (String) (Required) : Contract Id for which to get balances
end Note

hts->>parent : allBalances(numOfUsers, contractId)
parent->>child : allBalances(numOfUsers)
child- ->parent: return array mapping of balances
parent- ->hts : return array mapping of balances \n ["SolidityAddress1-Balance1", …]
hts- ->app : return "

app->>hts : allowance
Note right of hts
    POST
end Note
Note right of hts
    Transfer tinyBars from default account
end Note
Note right of hts
    * json (Dict) (Required)
        * myaccNum (String) (? Required/Optional) Example "0.0.21166"
        * mypvtKey (String) (? Required/Optional) "302e......"
        * spenderSolidityAddress (String) (? Required/Optional)
        * tokenOwnerSolidityAddress (String) (? Required/Optional)
end Note

hts->>parent : allowance
parent->>child : allowance(address tokenOwner, address spender)
child- ->parent : returns string allowance in Jam Decimals
parent- ->hts : return "
hts- ->app : return "


@enduml

PlantUML version 1.2021.7(Sun May 23 15:40:07 EAT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>